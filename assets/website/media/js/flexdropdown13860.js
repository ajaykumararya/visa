var flexdropdownmenu={arrowpath:"images/arrow.gif",backarrowpath:"images/left.gif",animspeed:200,showhidedelay:[150,150],mobilemediaquery:"screen and (max-width: 600px)",mobilemql:null,startzindex:1e3,mobilezindex:1001,ismobile:null!=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i),builtflexmenuids:[],ulclones:{},hidemenuevent:navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)/i)?"touchstart":"click",css3animation:function(){var e=document.createElement("p").style;return"animation"in e||"WebkitAnimation"in e||"MozAnimation"in e}(),positionul:function(e,i,t,n){var d=i.hasClass("jqflexmenu")||i.hasClass("flexmenumobile"),o=e(document).scrollLeft()+e(window).width()-40,s=e(document).scrollTop()+e(window).height()-40;if(d){var a=n.offset(),l=this.mobilemql.matches?n.data("mobilesetting"):n.data("setting"),r=a.left+l.useroffsets[0]+("h"==l.dir?n.outerWidth():0),u=a.top+l.useroffsets[1]+("h"==l.dir?0:n.outerHeight());r=r+i.data("dimensions").w>o?r-2*l.useroffsets[0]-i.data("dimensions").w+n.outerWidth()+("h"==l.dir?-2*n.outerWidth():0):r,u=u+i.data("dimensions").h>s?u-2*l.useroffsets[1]-i.data("dimensions").h-n.outerHeight()+("h"==l.dir?2*n.outerHeight():0):u}else{var m=i.data("$parentliref").offset();r=i.data("dimensions").parentliw,u=0;m.left+r+i.data("dimensions").w>o&&(r=i.data("dimensions").w>m.left-e(document).scrollLeft()?0:r-i.data("dimensions").parentliw-i.data("dimensions").w),m.top+i.data("dimensions").h>s&&(u=i.data("dimensions").h>m.top-e(document).scrollTop()?e(document).scrollTop()-m.top:u-i.data("dimensions").h+i.data("dimensions").parentlih)}i.css({left:r,top:u})},showbox:function(e,i,t,n){clearTimeout(t.data("timers").hidetimer),t.data("timers").showtimer=setTimeout(function(){i.addClass("selected"),t.show(flexdropdownmenu.animspeed)},this.showhidedelay[0])},hidebox:function(e,i,t){clearTimeout(t.data("timers").showtimer),t.data("timers").hidetimer=setTimeout(function(){i.removeClass("selected"),t.hide(100)},this.showhidedelay[1])},buildmobilemenu:function(e,i,t){var n=function(e,i,t,n){t=t||function(){},n=n||function(){};for(var d=e.find("ul").parent(),o=i?e.clone():e,s=jQuery(document.createDocumentFragment()),a=(d=o.find("ul").parent()).length-1;a>=0;a--){var l=d.eq(a),r=l.find(">ul").prependTo(s);t(a,l,r)}return o.prependTo(s),n(o),s}(this.ulclones[i],!1,function(i,t,n){var o=e('<li class="breadcrumb" />').html('<img src="'+flexdropdownmenu.backarrowpath+'" class="backarrow" />'+t.text()).prependTo(n);n.css({display:"block",left:0,top:0}),t.find("a:eq(0)").append('<img src="'+flexdropdownmenu.arrowpath+'" class="rightarrow" />'),t.bind("click",function(i){d.data("h",n.outerHeight()),e(this).parent("ul").css({zIndex:flexdropdownmenu.mobilezindex++}).animate({left:"-100%",opacity:0},function(){this.style.visibility="hidden"}),n.css({zIndex:flexdropdownmenu.mobilezindex++,left:"100%",visibility:"visible"}).animate({left:0,opacity:1}),i.stopPropagation(),i.preventDefault()}),o.bind("click",function(e){var i=t.parent("ul");d.data("h",i.outerHeight()),n.css({zIndex:flexdropdownmenu.mobilezindex++}).animate({left:"100%",opacity:0},function(){this.style.visibility="hidden"}),i.css({zIndex:flexdropdownmenu.mobilezindex++,left:"-100%",visibility:"visible"}).animate({left:0,opacity:1}),e.stopPropagation(),e.preventDefault()})},function(e){e.removeAttr("id class").css({zIndex:flexdropdownmenu.mobilezindex++,visibility:"visible",opacity:1,left:0,top:0,display:"block"})}),d=e('<div class="flexmenumobile" id="'+i+'-mobile"/>').append(n).appendTo(document.body);d.css("display","block"),d.data("dimensions",{w:d.outerWidth(),h:d.find("ul:eq(0)").outerHeight()}),d.css("display","none"),d.bind("touchstart",function(e){e.stopPropagation()}),this.builtflexmenuids.push(i+"-mobile")},buildflexmenu:function(e,i,t){i.css({display:"block",visibility:"hidden",zIndex:this.startzindex}).addClass("jqflexmenu").appendTo(document.body),i.bind("mouseenter",function(){clearTimeout(i.data("timers").hidetimer)}),i.bind("mouseleave",function(){flexdropdownmenu.hidebox(e,t,i)}),i.bind(this.hidemenuevent,function(e){e.stopPropagation()}),i.data("dimensions",{w:i.outerWidth(),h:i.outerHeight()}),i.data("timers",{}),i.find("ul").parent().each(function(i){var t=e(this).css({zIndex:1e3+i}),n=t.find("ul:eq(0)").css({display:"block"});n.data("dimensions",{w:n.outerWidth(),h:n.outerHeight(),parentliw:this.offsetWidth,parentlih:this.offsetHeight}),n.data("$parentliref",t),n.data("timers",{}),t.data("$subulref",n),t.children("a:eq(0)").append('<img src="'+flexdropdownmenu.arrowpath+'" class="rightarrowclass" style="border:0;" />'),t.bind(flexdropdownmenu.triggerevt,function(i){var t=e(this).css("zIndex",++flexdropdownmenu.startzindex).addClass("selected").data("$subulref");if(t.queue().length<=1&&(clearTimeout(t.data("timers").hidetimer),t.data("timers").showtimer=setTimeout(function(){flexdropdownmenu.positionul(e,t,i),t.show(flexdropdownmenu.animspeed)},flexdropdownmenu.showhidedelay[0]),"click"==flexdropdownmenu.triggerevt&&1==e(i.target).next("ul").length))return!1}),t.bind("mouseleave",function(i){var t=e(this).data("$subulref");clearTimeout(t.data("timers").showtimer),t.data("timers").hidetimer=setTimeout(function(){t.hide(100).data("$parentliref").removeClass("selected")},flexdropdownmenu.showhidedelay[1])})}),i.find("ul").andSelf().css({display:"none",visibility:"visible"}),this.builtflexmenuids.push(i.get(0).id)},init:function(e,i,t){var n=this.mobilemql.matches;if(this.triggerevt=this.ismobile?"click":"mouseenter",this.showhidedelay[0]=this.ismobile?0:this.showhidedelay[0],0==this.builtflexmenuids.length&&(e(document.body).bind(this.hidemenuevent,function(i){e(".jqflexmenu").find("ul").andSelf().hide()}),e('<div class="flexoverlay" />').bind("click",function(i){e("div.flexmenumobile").hide(),e("div.flexoverlay").css("display","none")}).appendTo(document.body)),!(i.parents().filter("ul.jqflexmenu").length>0))if(n){this.ulclones[t.get(0).id]||(this.ulclones[t.get(0).id]=t.clone()),e(".jqflexmenu").find("ul").andSelf().hide(),-1==jQuery.inArray(t.get(0).id+"-mobile",this.builtflexmenuids)&&this.buildmobilemenu(e,t.get(0).id,i);var d=e("div#"+t.get(0).id+"-mobile");i.data("mobilesetting")||(i.data("mobilesetting",{dir:i.attr("data-dir"),useroffsets:[0,0]}),i.bind("click",function(i){if(flexdropdownmenu.mobilemql.matches){e("div.flexoverlay").css("display","block");var t=e(window).width(),n=e(window).height(),o=t/2-d.data("dimensions").w/2<0?-t/2:-d.data("dimensions").w/2,s=n/2-d.data("dimensions").h/2<0?-n/2:-d.data("dimensions").h/2;return d.css({left:"50%",top:"50%",marginLeft:o,marginTop:s}),d.css({zIndex:flexdropdownmenu.mobilezindex++,display:"block"}),!1}}))}else if(this.ulclones[t.get(0).id]||(this.ulclones[t.get(0).id]=t.clone()),e("div.flexmenumobile").css("display","none"),e("div.flexoverlay").css("display","none"),-1==jQuery.inArray(t.get(0).id,this.builtflexmenuids)&&this.buildflexmenu(e,t,i),!i.data("setting")){var o=i.attr("data-offsets")?i.attr("data-offsets").split(","):[0,0];o=[parseInt(o[0]),parseInt(o[1])],i.data("setting",{dir:i.attr("data-dir"),useroffsets:o}),i.bind(flexdropdownmenu.triggerevt,function(n){flexdropdownmenu.mobilemql.matches||(t.css("zIndex",++flexdropdownmenu.startzindex),flexdropdownmenu.positionul(e,t,n,i),flexdropdownmenu.showbox(e,i,t,n),"click"==flexdropdownmenu.triggerevt&&n.preventDefault())}),i.bind("mouseleave",function(n){flexdropdownmenu.mobilemql.matches||(flexdropdownmenu.hidebox(e,i,t),n.preventDefault())})}}};function ddlistmenu(e,i){var t=document.createElement("ul");e&&(t.id=e),i&&(t.className=i),this.menu=t}jQuery.fn.addflexmenu=function(e,i){var t=jQuery;return flexdropdownmenu.mobilemql=window.matchMedia?window.matchMedia(flexdropdownmenu.mobilemediaquery):{matches:!1,addListener:function(){}},this.each(function(){var n=t(this);"object"==typeof i&&(i.dir&&n.attr("data-dir",i.dir),i.offsets&&n.attr("data-offsets",i.offsets)),1==t("#"+e).length&&(flexdropdownmenu.init(t,n,t("#"+e)),window.matchMedia&&window.matchMedia(flexdropdownmenu.mobilemediaquery).addListener(function(){flexdropdownmenu.init(t,n,t("#"+e))}))})},jQuery(document).ready(function(e){e("*[data-flexmenu]").each(function(){e(this).addflexmenu(this.getAttribute("data-flexmenu"))})}),ddlistmenu.prototype={addItem:function(e,i,t){var n=document.createElement("li");return n.innerHTML='<a href="'+e+'" target="'+t+'">'+i+"</a>",this.menu.appendChild(n),this.li=n,this},addSubMenu:function(){var e=new ddlistmenu(null,null);return this.li.appendChild(e.menu),e}};